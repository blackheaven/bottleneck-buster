<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.34.0 (20131224.2158)
 -->
<!-- Title: 2PC Clean Pages: 1 -->
<svg width="1145pt" height="396pt"
 viewBox="0.00 0.00 1144.59 396.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 392)">
<title>2PC Clean</title>
<polygon fill="white" stroke="white" points="-4,4 -4,-392 1140.59,-392 1140.59,4 -4,4"/>
<!-- b1 -->
<g id="node1" class="node"><title>b1</title>
<ellipse fill="none" stroke="black" cx="495.593" cy="-282" rx="36.096" ry="18"/>
<text text-anchor="middle" x="495.593" y="-278.3" font-family="Times,serif" font-size="14.00">Bank 1</text>
</g>
<!-- c -->
<g id="node5" class="node"><title>c</title>
<ellipse fill="none" stroke="black" cx="206.593" cy="-194" rx="55.3682" ry="18"/>
<text text-anchor="middle" x="206.593" y="-190.3" font-family="Times,serif" font-size="14.00">Coordinator</text>
</g>
<!-- b1&#45;&gt;c -->
<g id="edge1" class="edge"><title>b1&#45;&gt;c</title>
<path fill="none" stroke="black" d="M463.514,-273.637C440.8,-267.771 409.983,-258.473 384.593,-246 373.416,-240.509 372.988,-235.02 361.593,-230 359.185,-228.939 304.563,-216.705 260.837,-206.996"/>
<polygon fill="black" stroke="black" points="261.368,-203.528 250.847,-204.779 259.852,-210.362 261.368,-203.528"/>
<text text-anchor="middle" x="406.093" y="-234.3" font-family="Times,serif" font-size="14.00">register</text>
</g>
<!-- b1&#45;&gt;c -->
<g id="edge7" class="edge"><title>b1&#45;&gt;c</title>
<path fill="none" stroke="black" d="M459.353,-280.515C366.301,-278.896 124.56,-272.185 100.593,-246 81.6427,-225.297 113.589,-212.124 147.246,-204.363"/>
<polygon fill="black" stroke="black" points="148.175,-207.743 157.216,-202.221 146.704,-200.9 148.175,-207.743"/>
<text text-anchor="middle" x="168.093" y="-234.3" font-family="Times,serif" font-size="14.00">2. Transfer Client 1 &#45;&gt; 2</text>
</g>
<!-- t -->
<g id="node6" class="node"><title>t</title>
<ellipse fill="none" stroke="black" cx="495.593" cy="-18" rx="54.3924" ry="18"/>
<text text-anchor="middle" x="495.593" y="-14.3" font-family="Times,serif" font-size="14.00">Transaction</text>
</g>
<!-- b1&#45;&gt;t -->
<g id="edge12" class="edge"><title>b1&#45;&gt;t</title>
<path fill="none" stroke="black" d="M485.942,-264.605C473.061,-241.677 450.907,-198.308 442.593,-158 434.061,-116.64 458.051,-71.4069 476.498,-44.1224"/>
<polygon fill="black" stroke="black" points="479.608,-45.785 482.487,-35.589 473.878,-41.764 479.608,-45.785"/>
<text text-anchor="middle" x="458.093" y="-146.3" font-family="Times,serif" font-size="14.00">6. yes</text>
</g>
<!-- b1&#45;&gt;t -->
<g id="edge15" class="edge"><title>b1&#45;&gt;t</title>
<path fill="none" stroke="black" d="M495.044,-263.89C494.311,-240.132 493.054,-195.805 492.593,-158 492.12,-119.221 493.422,-74.3652 494.458,-46.3363"/>
<polygon fill="black" stroke="black" points="497.964,-46.2448 494.851,-36.1175 490.969,-45.9753 497.964,-46.2448"/>
<text text-anchor="middle" x="522.093" y="-146.3" font-family="Times,serif" font-size="14.00">8. ok/error</text>
</g>
<!-- b2 -->
<g id="node2" class="node"><title>b2</title>
<ellipse fill="none" stroke="black" cx="173.593" cy="-106" rx="36.096" ry="18"/>
<text text-anchor="middle" x="173.593" y="-102.3" font-family="Times,serif" font-size="14.00">Bank 2</text>
</g>
<!-- b2&#45;&gt;c -->
<g id="edge2" class="edge"><title>b2&#45;&gt;c</title>
<path fill="none" stroke="black" d="M154.749,-121.624C144.073,-131.764 134.196,-145.616 141.593,-158 145.986,-165.355 152.516,-171.255 159.769,-175.959"/>
<polygon fill="black" stroke="black" points="158.107,-179.041 168.529,-180.947 161.57,-172.957 158.107,-179.041"/>
<text text-anchor="middle" x="163.093" y="-146.3" font-family="Times,serif" font-size="14.00">register</text>
</g>
<!-- b2&#45;&gt;t -->
<g id="edge10" class="edge"><title>b2&#45;&gt;t</title>
<path fill="none" stroke="black" d="M137.197,-104.862C77.7468,-103.468 -29.9124,-95.3718 8.59277,-54 36.7488,-23.7478 304.623,-19.2759 430.647,-18.862"/>
<polygon fill="black" stroke="black" points="430.94,-22.3614 440.931,-18.8363 430.922,-15.3614 430.94,-22.3614"/>
<text text-anchor="middle" x="43.5928" y="-58.3" font-family="Times,serif" font-size="14.00">4. in Bank 2!</text>
</g>
<!-- c1 -->
<g id="node3" class="node"><title>c1</title>
<ellipse fill="none" stroke="black" cx="936.593" cy="-370" rx="39.4691" ry="18"/>
<text text-anchor="middle" x="936.593" y="-366.3" font-family="Times,serif" font-size="14.00">Client 1</text>
</g>
<!-- c1&#45;&gt;b1 -->
<g id="edge3" class="edge"><title>c1&#45;&gt;b1</title>
<path fill="none" stroke="black" d="M901.249,-362.108C821.116,-346.481 625.842,-308.4 538.752,-291.417"/>
<polygon fill="black" stroke="black" points="539.168,-287.932 528.683,-289.453 537.828,-294.802 539.168,-287.932"/>
<text text-anchor="middle" x="776.093" y="-322.3" font-family="Times,serif" font-size="14.00">register</text>
</g>
<!-- c1&#45;&gt;t -->
<g id="edge5" class="edge"><title>c1&#45;&gt;t</title>
<path fill="none" stroke="black" d="M975.094,-365.79C1024.13,-359.352 1102.59,-340.125 1102.59,-283 1102.59,-283 1102.59,-283 1102.59,-105 1102.59,-50.6046 715.523,-28.2435 559.57,-21.4417"/>
<polygon fill="black" stroke="black" points="559.334,-17.9284 549.194,-20.9972 559.035,-24.922 559.334,-17.9284"/>
<text text-anchor="middle" x="1119.59" y="-190.3" font-family="Times,serif" font-size="14.00">create</text>
</g>
<!-- c2 -->
<g id="node4" class="node"><title>c2</title>
<ellipse fill="none" stroke="black" cx="332.593" cy="-194" rx="39.4691" ry="18"/>
<text text-anchor="middle" x="332.593" y="-190.3" font-family="Times,serif" font-size="14.00">Client 2</text>
</g>
<!-- c2&#45;&gt;b2 -->
<g id="edge4" class="edge"><title>c2&#45;&gt;b2</title>
<path fill="none" stroke="black" d="M325.84,-175.971C320.56,-164.758 312.166,-150.611 300.593,-142 277.024,-124.464 245.133,-115.714 219.206,-111.348"/>
<polygon fill="black" stroke="black" points="219.642,-107.874 209.229,-109.831 218.589,-114.794 219.642,-107.874"/>
<text text-anchor="middle" x="337.093" y="-146.3" font-family="Times,serif" font-size="14.00">register</text>
</g>
<!-- c&#45;&gt;b1 -->
<g id="edge8" class="edge"><title>c&#45;&gt;b1</title>
<path fill="none" stroke="black" d="M220.084,-211.562C231.213,-224.779 246.45,-241.761 254.593,-246 287.651,-263.209 389.476,-273.315 449.674,-277.939"/>
<polygon fill="black" stroke="black" points="449.449,-281.432 459.682,-278.687 449.971,-274.451 449.449,-281.432"/>
<text text-anchor="middle" x="306.093" y="-234.3" font-family="Times,serif" font-size="14.00">3. whereis Client 2</text>
</g>
<!-- c&#45;&gt;b2 -->
<g id="edge9" class="edge"><title>c&#45;&gt;b2</title>
<path fill="none" stroke="black" d="M200.073,-176.009C195.418,-163.877 189.064,-147.32 183.748,-133.465"/>
<polygon fill="black" stroke="black" points="186.949,-132.038 180.099,-123.956 180.414,-134.546 186.949,-132.038"/>
<text text-anchor="middle" x="245.093" y="-146.3" font-family="Times,serif" font-size="14.00">3. whereis Client 2</text>
</g>
<!-- t&#45;&gt;b1 -->
<g id="edge6" class="edge"><title>t&#45;&gt;b1</title>
<path fill="none" stroke="black" d="M510.432,-35.4447C531.489,-60.7981 566.355,-111.389 555.593,-158 547.24,-194.174 526.73,-232.014 512.016,-256.009"/>
<polygon fill="black" stroke="black" points="508.853,-254.464 506.505,-264.796 514.783,-258.184 508.853,-254.464"/>
<text text-anchor="middle" x="625.093" y="-146.3" font-family="Times,serif" font-size="14.00">1. Transfer Client 1 &#45;&gt; 2</text>
</g>
<!-- t&#45;&gt;b1 -->
<g id="edge11" class="edge"><title>t&#45;&gt;b1</title>
<path fill="none" stroke="black" d="M539.7,-28.6954C609.917,-46.4099 735.433,-88.6967 696.593,-158 662.515,-218.806 584.763,-253.157 536.568,-269.333"/>
<polygon fill="black" stroke="black" points="535.192,-266.099 526.758,-272.511 537.35,-272.758 535.192,-266.099"/>
<text text-anchor="middle" x="786.093" y="-146.3" font-family="Times,serif" font-size="14.00">5. has Client 1 enough money?</text>
</g>
<!-- t&#45;&gt;b1 -->
<g id="edge13" class="edge"><title>t&#45;&gt;b1</title>
<path fill="none" stroke="black" d="M542.695,-27.0093C635.522,-43.8836 836.426,-86.1804 874.593,-142 956.19,-261.337 660.227,-278.606 542.172,-280.812"/>
<polygon fill="black" stroke="black" points="541.928,-277.315 531.984,-280.973 542.038,-284.314 541.928,-277.315"/>
<text text-anchor="middle" x="961.593" y="-146.3" font-family="Times,serif" font-size="14.00">7. Minus on Client 1 account</text>
</g>
<!-- t&#45;&gt;b2 -->
<g id="edge14" class="edge"><title>t&#45;&gt;b2</title>
<path fill="none" stroke="black" d="M441.413,-19.8408C338.75,-21.9988 124.078,-29.4293 101.593,-54 87.2321,-69.6929 109.637,-83.3674 133.147,-92.5956"/>
<polygon fill="black" stroke="black" points="132.24,-95.9911 142.834,-96.1504 134.652,-89.4196 132.24,-95.9911"/>
<text text-anchor="middle" x="175.593" y="-58.3" font-family="Times,serif" font-size="14.00">7. Plus on Client 2 account</text>
</g>
<!-- t&#45;&gt;b2 -->
<g id="edge16" class="edge"><title>t&#45;&gt;b2</title>
<path fill="none" stroke="black" d="M441.537,-20.7081C395.226,-23.739 327.509,-31.9549 272.593,-54 261.037,-58.639 260.401,-63.816 249.593,-70 237.033,-77.1858 222.742,-84.0785 209.967,-89.8183"/>
<polygon fill="black" stroke="black" points="208.287,-86.7336 200.547,-93.9687 211.11,-93.1394 208.287,-86.7336"/>
<text text-anchor="middle" x="364.593" y="-58.3" font-family="Times,serif" font-size="14.00">(9.) Rollback on Client 2 account</text>
</g>
</g>
</svg>
